# [14503 ë¡œë´‡ ì²­ì†Œê¸°](https://www.acmicpc.net/problem/14503)

### ğŸ¥‡ 5

### ë¶„ë¥˜

- êµ¬í˜„
- ì‹œë®¬ë ˆì´ì…˜

### í’€ì´ ë‚ ì§œ

- 230401 í† 
- 230923 í† 

---

## CODE 1

```python
import sys

input = sys.stdin.readline

N, M = map(int, input().split())
R, C, D = map(int, input().split())
g = [list(map(int, input().split())) for _ in range(N)]


# ì£¼ë³€ ìœ íš¨ ë„¤ ì¹¸ ì¤‘ ì²­ì†Œë˜ì§€ ì•Šì€ ì¹¸ ìˆëŠ”ì§€ í™•ì¸
def unclean_exists(cx, cy):
    global N, M, g, v, dx, dy
    for i in range(4):
        nx, ny = cx + dx[i], cy + dy[i]
        if 0 <= nx < N and 0 <= ny < M and g[nx][ny] == 0:
            return True
    return False


# í˜„ì¬ ìœ„ì¹˜ ì²­ì†Œ
def clean_here(x, y):
    global v, cnt
    g[x][y] = 2
    cnt += 1
    return


dx, dy = (-1, 0, 1, 0), (0, 1, 0, -1)
d = D  # ë°©í–¥
x, y = R, C  # í˜„ì¬ ìœ„ì¹˜
cnt = 0  # ì²­ì†Œí•œ ì¹¸ ìˆ˜

while True:
    # í˜„ì¬ ì¹¸ì´ ì²­ì†Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì²­ì†Œ
    if g[x][y] == 0:
        clean_here(x, y)
    # ì£¼ë³€ ìœ íš¨ ë„¤ ì¹¸ ì¤‘ ì²­ì†Œë˜ì§€ ì•Šì€ ì¹¸ì´ ìˆìŒ
    if unclean_exists(x, y):
        d = (d - 1) % 4
        nx, ny = x + dx[d], y + dy[d]
        if g[nx][ny] == 0:
            x, y = nx, ny
    # ì£¼ë³€ ìœ íš¨ ë„¤ ì¹¸ ëª¨ë‘ ì²­ì†Œë¨
    else:
        nx, ny = x - dx[d], y - dy[d]
        if 0 <= nx < N and 0 <= ny < M and g[nx][ny] != 1:
            x, y = nx, ny
        elif 0 <= nx < N and 0 <= ny < M and g[nx][ny] == 1:
            break

print(cnt)

```

## í•´ì„¤ 1

`31256KB`, `44ms`

---

## CODE 2

```python
import sys

input = sys.stdin.readline

sys.setrecursionlimit(10 ** 9)

n, m = map(int, input().split())
r, c, d = map(int, input().split())
g = [list(map(int, input().split())) for _ in range(n)]

dx, dy = (-1, 0, 1, 0), (0, 1, 0, -1)
cnt = 0
x, y = r, c

while True:
    if g[x][y] == 0:
        g[x][y] = 2
        cnt += 1
    exists = False
    for i in range(4):
        nx, ny = x + dx[i], y + dy[i]
        if g[nx][ny] == 0:
            exists = True
            break
    if exists:
        d = (d - 1) % 4
        nx, ny = x + dx[d], y + dy[d]
        if g[nx][ny] == 0:
            x, y = nx, ny
    else:
        nx, ny = x - dx[d], y - dy[d]
        if g[nx][ny] == 1:
            break
        x, y = nx, ny

print(cnt)
```

## í•´ì„¤ 2

`31256KB`, `44ms`
