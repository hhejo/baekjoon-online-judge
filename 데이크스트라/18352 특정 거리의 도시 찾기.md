# [18352 íŠ¹ì • ê±°ë¦¬ì˜ ë„ì‹œ ì°¾ê¸°](https://www.acmicpc.net/problem/18352)

### ğŸ¥ˆ 2

### ë¶„ë¥˜

- ê·¸ë˜í”„ ì´ë¡ 
- ê·¸ë˜í”„ íƒìƒ‰
- ë„ˆë¹„ ìš°ì„  íƒìƒ‰
- ë°ì´í¬ìŠ¤íŠ¸ë¼

### í’€ì´ ë‚ ì§œ

- 230328 í™”
- 230405 ìˆ˜

---

## CODE 1

```python
import sys
from heapq import heappush, heappop

input = sys.stdin.readline

N, M, K, X = map(int, input().split())
g = [[] for _ in range(N + 1)]
for _ in range(M):
    A, B = map(int, input().split())
    g[A].append((B, 1))

INF = int(1e9)
dist = [INF] * (N + 1)


def dijkstra(start):
    global g, dist
    dist[start] = 0
    heap = []
    heappush(heap, (0, start))
    while heap:
        cur = heappop(heap)
        if dist[cur[1]] < cur[0]:
            continue
        for nxt in g[cur[1]]:
            cost = dist[cur[1]] + nxt[1]
            if cost < dist[nxt[0]]:
                dist[nxt[0]] = cost
                heappush(heap, (cost, nxt[0]))
    return


dijkstra(X)

res = []
for i, value in enumerate(dist):
    if value == K:
        res.append(i)

if res:
    print(*res, sep='\n')
else:
    print(-1)

```

## í•´ì„¤ 1

`172212KB`, `2860ms`

---

## CODE 2

```python
import sys
from collections import deque

input = sys.stdin.readline


def bfs(start):
    global g, v
    que = deque([start])
    v[start] = 0
    while que:
        cur = que.popleft()
        for nxt in g[cur]:
            if v[nxt] == -1:
                que.append(nxt)
                v[nxt] = v[cur] + 1
    return


N, M, K, X = map(int, input().split())
g = [[] for _ in range(N + 1)]
for _ in range(M):
    A, B = map(int, input().split())
    g[A].append(B)

v = [-1] * (N + 1)
bfs(X)

ans = []
for i in range(1, N + 1):
    if v[i] == K:
        ans.append(i)
if ans:
    print(*ans, sep='\n')
else:
    print(-1)

```

## í•´ì„¤ 2

BFS

ëª¨ë“  ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ê°€ 1ì´ë¯€ë¡œ BFS ê°€ëŠ¥

`97712KB`, `1768ms`

---

## CODE 3

```python
import sys
from heapq import heappush, heappop

input = sys.stdin.readline


def dijkstra(start):
    global g, dist
    heap = []
    heappush(heap, (0, start))
    dist[start] = 0
    while heap:
        cur_value, cur = heappop(heap)
        if cur_value > dist[cur]:
            continue
        for nxt, nxt_value in g[cur]:
            cost = nxt_value + dist[cur]
            if cost < dist[nxt]:
                dist[nxt] = cost
                heappush(heap, (cost, nxt))
    return


N, M, K, X = map(int, input().split())
g = [[] for _ in range(N + 1)]
for _ in range(M):
    A, B = map(int, input().split())
    g[A].append((B, 1))

dist = [int(1e9)] * (N + 1)
dijkstra(X)

ans = []
for i in range(1, N + 1):
    if dist[i] == K:
        ans.append(i)
if ans:
    print(*ans, sep='\n')
else:
    print(-1)

```

## í•´ì„¤ 3

ëª¨ë“  ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ì— 1ì„ ì¶”ê°€ë¡œ ì…ë ¥í•˜ê³  ë‹¤ìµìŠ¤íŠ¸ë¼ë¡œ í•´ê²°

`172212KB`, `2692ms`
