# [1987 알파벳](https://www.acmicpc.net/problem/1987)

### 🥇 4

### 분류

- 그래프 이론
- 그래프 탐색
- 깊이 우선 탐색
- 백트래킹

### 풀이 날짜

- 230321 화

---

## CODE

```python
import sys

input = sys.stdin.readline

R, C = map(int, input().split())
g = [list(map(lambda x: ord(x) - ord('A'), input().strip())) for _ in range(R)]


# 풀이
def solve():
    global R, C, g

    def dfs(cx, cy, cnt):
        res.add(cnt)
        for nx, ny in ((cx - 1, cy), (cx, cy + 1), (cx + 1, cy), (cx, cy - 1)):
            if 0 <= nx < R and 0 <= ny < C and not v[g[nx][ny]]:
                v[g[nx][ny]] = True
                dfs(nx, ny, cnt + 1)
                v[g[nx][ny]] = False
        return

    v = [False] * 26
    v[g[0][0]] = True
    res = set()
    dfs(0, 0, 1)
    ans = max(res)
    print(ans)
    return


solve()

```

## 해설

DFS는 PyPy3로 해야 시간 초과를 피할 수 있다.

BFS는 Python3로 가능한데 큐 대신 셋을 이용해야 한다.

`179864KB`, `6424ms`
