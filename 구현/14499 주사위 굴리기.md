# [14499 ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°](https://www.acmicpc.net/problem/14499)

### ğŸ¥‡ 4

### ë¶„ë¥˜

- êµ¬í˜„
- ì‹œë®¬ë ˆì´ì…˜

### í’€ì´ ë‚ ì§œ

- 230924 ì¼

---

## CODE 1

```python
import sys

input = sys.stdin.readline

n, m, x, y, k = map(int, input().split())
g = [list(map(int, input().split())) for _ in range(n)]
a = list(map(int, input().split()))

dice = [0] * 6  # ë™ ì„œ ë‚¨ ë¶ ìƒ í•˜
dx, dy = (0, 0, 0, -1, 1), (0, 1, -1, 0, 0)

for cmd in a:
    nx, ny = x + dx[cmd], y + dy[cmd]
    if nx < 0 or n <= nx or ny < 0 or m <= ny:
        continue
    east, west, south, north, top, bot = dice
    if cmd == 1:  # ë™
        dice[0], dice[1], dice[4], dice[5] = bot, top, east, west
    elif cmd == 2:  # ì„œ
        dice[0], dice[1], dice[4], dice[5] = top, bot, west, east
    elif cmd == 3:  # ë¶
        dice[2], dice[3], dice[4], dice[5] = top, bot, north, south
    elif cmd == 4:  # ë‚¨
        dice[2], dice[3], dice[4], dice[5] = bot, top, south, north
    if g[nx][ny] == 0:
        g[nx][ny] = dice[5]
    else:
        dice[5] = g[nx][ny]
        g[nx][ny] = 0
    x, y = nx, ny
    print(dice[4])
```

## í•´ì„¤ 1

`31256KB`, `44ms`
