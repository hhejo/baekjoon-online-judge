# [2667 λ‹¨μ§€λ²νΈλ¶™μ΄κΈ°](https://www.acmicpc.net/problem/2667)

### π¥ 1

### λ¶„λ¥

- κ·Έλν”„ μ΄λ΅ 
- κ·Έλν”„ νƒμƒ‰
- λ„λΉ„ μ°μ„  νƒμƒ‰
- κΉμ΄ μ°μ„  νƒμƒ‰

### ν’€μ΄ λ‚ μ§

- 230215 μ
- 230306 μ›”
- 230318 ν† 

---

## CODE 1

```python
import sys

sys.stdin = open('input.txt')


# ν’€μ΄
def solve():
    global N, arr  # μ§€λ„μ ν¬κΈ° N, μ§€λ„ arr

    # dfs
    def dfs(x, y):
        stk = [(x, y)]  # μ¤νƒ
        visited[x][y] = True  # ν„μ¬ μ„μΉ(μ‹μ‘ μ„μΉ) λ°©λ¬Έ μ²λ¦¬
        cnt = 1  # μ—°κ²°λ μ§‘μ μ 1λ΅ μ‹μ‘
        # μ¤νƒμ΄ λΉ λ•κΉμ§€
        while stk:
            cx, cy = stk.pop()  # ν„μ¬ μ„μΉ
            # λ‹¤μ μ„μΉ μƒ μ° ν• μΆ
            for nx, ny in ((cx - 1, cy), (cx, cy + 1), (cx + 1, cy), (cx, cy - 1)):
                # μ ν¨ λ²”μ„ λ‚΄, μ§‘μ΄κ³ , λ°©λ¬Έν•μ§€ μ•μ -> μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬, μ§‘μ μ μ¦κ°€
                if 0 <= nx < N and 0 <= ny < N and arr[nx][ny] == 1 and not visited[nx][ny]:
                    stk.append((nx, ny))
                    visited[nx][ny] = True
                    cnt += 1
        # μ—°κ²°λ μ§‘μ μ΄ κ°μ λ¦¬ν„΄
        return cnt

    cnt_arr = []  # κ° λ‹¨μ§€ λ‚΄ μ§‘μ μ λ°°μ—΄
    visited = [[False] * N for _ in range(N)]  # λ°©λ¬Έ μ—¬λ¶€
    # λ¨λ“  μΆν‘μ— λ€ν•΄ μ‹μ‘μ„μΉ λ°λ³µ
    for sx in range(N):
        for sy in range(N):
            # λ°©λ¬Έν•μ§€ μ•μ€ μ§‘μ΄λ©΄ ν•΄λ‹Ή μ§‘κ³Ό μ—°κ²°λ μ§‘μ μλ¥Ό κµ¬ν•΄ λ°°μ—΄μ— μ¶”κ°€
            if arr[sx][sy] == 1 and not visited[sx][sy]:
                cnt = dfs(sx, sy)
                cnt_arr.append(cnt)
    # μ΄ λ‹¨μ§€ μ, κ° λ‹¨μ§€λ‚΄ μ§‘μ μ (μ¤λ¦„μ°¨μ)
    print(len(cnt_arr), *sorted(cnt_arr))
    return


N = int(sys.stdin.readline())  # μ§€λ„μ ν¬κΈ° N
arr = [list(map(int, sys.stdin.readline().strip()))for _ in range(N)]  # μ§€λ„ arr

solve()  # ν’€μ΄

```

## ν•΄μ„¤

λ¨λ“  μΆν‘μ— λ€ν•΄ μ‹μ‘ μ„μΉλ¥Ό μ§€μ •ν•΄μ„ μ¤νƒμ„ μ΄μ©ν•΄ DFSλ¥Ό μ‹ν–‰ν•λ‹¤.

---

## CODE 2

```python
import sys
from collections import deque


# ν’€μ΄
def solve():
    global N, arr  # μ§€λ„μ ν¬κΈ° N, μ§€λ„ arr

    # bfs
    def bfs(x, y):
        que = deque([(x, y)])  # νμ— μ‹μ‘ μ„μΉ λ„£κ³  μ‹μ‘
        visited[x][y] = True  # μ‹μ‘ μ„μΉ λ°©λ¬Έ μ²λ¦¬
        cnt = 1  # μ§‘ κ°μ 1λ΅ μ‹μ‘
        # νκ°€ λΉ λ•κΉμ§€ λ°λ³µ
        while que:
            cx, cy = que.popleft()  # νμ—μ„ ν„μ¬ μ„μΉ λ””ν
            # λ‹¤μ μ„μΉ μƒ μ° ν• μΆ
            for nx, ny in ((cx - 1, cy), (cx, cy + 1), (cx + 1, cy), (cx, cy - 1)):
                # μ ν¨ λ²”μ„ λ‚΄, μ§‘μ΄ μλ” κ³³, μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ κ³³
                if 0 <= nx < N and 0 <= ny < N and arr[nx][ny] == 1 and not visited[nx][ny]:
                    que.append((nx, ny))  # λ‹¤μ μ„μΉ μΈν
                    visited[nx][ny] = True  # λ°©λ¬Έ μ²λ¦¬
                    cnt += 1  # μ§‘μ κ°μ μ¦κ°€
        # μ—°κ²°λ μ§‘μ μ΄ κ°μ λ¦¬ν„΄
        return cnt

    cnt_arr = []  # λ‹¨μ§€μ— μ†ν•λ” μ§‘μ μ λ°°μ—΄
    visited = [[False] * N for _ in range(N)]  # ν•΄λ‹Ή μ„μΉ λ°©λ¬Έ μ—¬λ¶€
    # λ¨λ“  μ„μΉμ— λ€ν•΄ ν• λ²μ”© BFS
    for sx in range(N):
        for sy in range(N):
            # μ§‘μ΄ μλ” κ³³, λ°©λ¬Έν•μ§€ μ•μ€ κ³³
            if arr[sx][sy] == 1 and not visited[sx][sy]:
                cnt = bfs(sx, sy)  # μ§‘μ μ
                cnt_arr.append(cnt)  # μ§‘μ μ μ¶”κ°€
    # μ •λ‹µ μ¶λ ¥
    print(len(cnt_arr), *sorted(cnt_arr), sep='\n')
    return


N = int(sys.stdin.readline())  # μ§€λ„μ ν¬κΈ° N
arr = [list(map(int, sys.stdin.readline().strip()))for _ in range(N)]  # μ§€λ„ arr

solve()  # ν’€μ΄

```

## ν•΄μ„¤ 2

λ¨λ“  μΆν‘μ— λ€ν•΄ μ‹μ‘ μ„μΉλ¥Ό μ§€μ •ν•΄μ„ BFSλ¥Ό μ‹ν–‰ν•λ‹¤.

---

## CODE 3

```python
import sys

input = sys.stdin.readline


# μ…λ ¥
N = int(input())  # μ§€λ„μ ν¬κΈ°
MAP = [list(map(int, input().strip())) for _ in range(N)]  # μ§€λ„


# ν’€μ΄
def solve():
    global N, MAP

    # DFS
    def dfs(sx, sy):
        stk = [(sx, sy)]  # μ‹μ‘ μ„μΉ (sx, sy)
        visited[sx][sy] = True  # ν•΄λ‹Ή μ„μΉ λ°©λ¬Έ μ²λ¦¬
        cnt = 1  # λ‹¨μ§€μ— μ†ν•λ” μ§‘μ μ
        # μ¤νƒ λ°λ³µ
        while stk:
            cx, cy = stk.pop()  # ν„μ¬ μ„μΉ
            # λ‹¤μ μ„μΉ μƒ μ° ν• μΆ
            for nx, ny in ((cx - 1, cy), (cx, cy + 1), (cx + 1, cy), (cx, cy - 1)):
                # λ²”μ„ λ‚΄, μ§‘μ΄ μκ³ , λ°©λ¬Έν•μ§€ μ•μ
                if 0 <= nx < N and 0 <= ny < N and MAP[nx][ny] == 1 and not visited[nx][ny]:
                    stk.append((nx, ny))  # λ‹¤μ μ„μΉ μ¤νƒμ— ν‘Έμ‹
                    visited[nx][ny] = True  # λ‹¤μ μ„μΉ λ°©λ¬Έ μ²λ¦¬
                    cnt += 1  # μ§‘μ μ μ¦κ°€
        return cnt  # μ§‘μ μ λ¦¬ν„΄

    ans = []  # λ‹¨μ§€μ— μ†ν•λ” μ§‘μ μ λ°°μ—΄
    visited = [[False] * N for _ in range(N)]  # μ§€λ„μ κ° μ§€μ  λ°©λ¬Έ μ—¬λ¶€

    # μ§€λ„μ λ¨λ“  μ§€μ λ§λ‹¤ λ°λ³µ
    for x in range(N):
        for y in range(N):
            # μ§‘μ΄ μκ³  λ°©λ¬Έν•μ§€ μ•μ
            if MAP[x][y] == 1 and not visited[x][y]:
                res = dfs(x, y)  # ν•΄λ‹Ή μ§€μ  DFS ν›„ λ‹¨μ§€μ— μ†ν•λ” μ§‘μ κ°μ
                ans.append(res)  # λ‹¨μ§€ μ λ°°μ—΄μ— μ¶”κ°€

    print(len(ans), *sorted(ans), sep='\n')  # λ‹¨μ§€μ μ, λ‹¨μ§€μ— μ†ν•λ” μ§‘μ μ μ¤λ¦„μ°¨μ
    return


# ν’€μ΄
solve()
```

## ν•΄μ„¤ 3

DFS μ¤νƒμΌλ΅ λ ν’€μ—λ‹¤.

μ§€λ„μ ν•΄λ‹Ή μ„μΉμ— μ§‘μ΄ μλ”μ§€ μ—†λ”μ§€ μμ§€ λ§κ³  μ κ±°λ¥΄μ

`31256KB`, `40ms`

---

## CODE 4

```python
import sys
from collections import deque

input = sys.stdin.readline

N = int(input())
g = [list(map(int, input().strip())) for _ in range(N)]


# ν’€μ΄
def solve():
    global N, g

    def bfs(sx, sy):
        que = deque([(sx, sy)])
        v[sx][sy] = True
        cnt = 1
        dx = (-1, 0, 1, 0)
        dy = (0, 1, 0, -1)
        while que:
            cx, cy = que.popleft()
            for i in range(4):
                nx = cx + dx[i]
                ny = cy + dy[i]
                if 0 <= nx < N and 0 <= ny < N and g[nx][ny] == 1 and not v[nx][ny]:
                    que.append((nx, ny))
                    v[nx][ny] = True
                    cnt += 1
        return cnt

    v = [[False] * N for _ in range(N)]
    a = []
    for x in range(N):
        for y in range(N):
            if g[x][y] == 1 and not v[x][y]:
                cnt = bfs(x, y)
                a.append(cnt)
    a.sort()
    print(len(a), *a, sep='\n')
    return


solve()

```

## ν•΄μ„¤ 4

`34192KB`, `64ms`
