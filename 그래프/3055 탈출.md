# [3055 íƒˆì¶œ](https://www.acmicpc.net/problem/3055)

### ğŸ¥‡ 4

### ë¶„ë¥˜

- ê·¸ë˜í”„ ì´ë¡ 
- ê·¸ë˜í”„ íƒìƒ‰
- ë„ˆë¹„ ìš°ì„  íƒìƒ‰

### í’€ì´ ë‚ ì§œ

- 230406 ëª©

---

## CODE 1

```python
import sys
from collections import deque

input = sys.stdin.readline

#


def flood():
    global R, C, g, dx, dy
    a = [[False] * C for _ in range(R)]
    for x in range(R):
        for y in range(C):
            if g[x][y] == '*':
                for i in range(4):
                    nx, ny = x + dx[i], y + dy[i]
                    if 0 <= nx < R and 0 <= ny < C and g[nx][ny] == '.':
                        a[nx][ny] = True
    for x in range(R):
        for y in range(C):
            if a[x][y]:
                g[x][y] = '*'
    return


def bfs(sx, sy, gx, gy):
    global R, C, g, dx, dy
    que = deque([(sx, sy)])
    v = [[-1] * C for _ in range(R)]
    v[sx][sy] = 0
    wave = 0
    while que:
        cx, cy = que.popleft()
        if wave <= v[cx][cy]:
            flood()
            wave += 1
        if cx == gx and cy == gy:
            return v[cx][cy]
        for i in range(4):
            nx, ny = cx + dx[i], cy + dy[i]
            if 0 <= nx < R and 0 <= ny < C and v[nx][ny] == -1:
                if g[nx][ny] == '.' or g[nx][ny] == 'D':
                    que.append((nx, ny))
                    v[nx][ny] = v[cx][cy] + 1
    return None


R, C = map(int, input().split())
g = [list(input().rstrip()) for _ in range(R)]

sx = sy = gx = gy = 0
for x in range(R):
    for y in range(C):
        if g[x][y] == 'S':
            sx, sy = x, y
            g[x][y] = '.'
        if g[x][y] == 'D':
            gx, gy = x, y

dx, dy = (-1, 0, 1, 0), (0, 1, 0, -1)
res = bfs(sx, sy, gx, gy)
if res:
    print(res)
else:
    print('KAKTUS')

```

## í•´ì„¤ 1

ë¨¼ì € ë¬¼ì„ ì°¨ì˜¤ë¥´ê²Œ í•˜ê³  BFSë¥¼ ì§„í–‰í•œë‹¤.

BFSì˜ ë‹¨ê³„ì— ë”°ë¼ ë˜ ë¬¼ì„ ì°¨ì˜¤ë¥´ê²Œ í•œë‹¤.

`34244KB`, `284ms`
