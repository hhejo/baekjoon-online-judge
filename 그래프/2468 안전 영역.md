# [2468 ì•ˆì „ ì˜ì—­](https://www.acmicpc.net/problem/2468)

### ğŸ¥ˆ 1

### ë¶„ë¥˜

- ê·¸ë˜í”„ ì´ë¡ 
- ë¸Œë£¨íŠ¸í¬ìŠ¤ ì•Œê³ ë¦¬ì¦˜
- ê·¸ë˜í”„ íƒìƒ‰
- ë„ˆë¹„ ìš°ì„  íƒìƒ‰
- ê¹Šì´ ìš°ì„  íƒìƒ‰

### í’€ì´ ë‚ ì§œ

- 230215 ìˆ˜
- 230318 í† 
- 230403 ì›”
- 230619 ì›”

---

## CODE 1

```python
import sys

#############################
sys.stdin = open('input.txt')
#############################


# í’€ì´
def solve():
    global N, arr

    # DFS
    def dfs(x, y):
        stk = [(x, y)]  # ìŠ¤íƒì— í‘¸ì‹œ
        visited[x][y] = True  # ë°©ë¬¸ ì²˜ë¦¬
        # ìŠ¤íƒì´ ë¹Œ ë•Œê¹Œì§€
        while stk:
            cx, cy = stk.pop()  # í˜„ì¬ ìœ„ì¹˜ íŒ
            # ë‹¤ìŒ ìœ„ì¹˜ ìƒ, ìš°, í•˜, ì¢Œ
            for nx, ny in ((cx - 1, cy), (cx, cy + 1), (cx + 1, cy), (cx, cy - 1)):
                # ìœ íš¨ ë²”ìœ„, ë†’ì´ê°€ h ë³´ë‹¤ ë†’ìŒ, ë°©ë¬¸í•˜ì§€ ì•ŠìŒ
                if 0 <= nx < N and 0 <= ny < N and arr[nx][ny] > h and not visited[nx][ny]:
                    stk.append((nx, ny))  # ìŠ¤íƒì— í‘¸ì‹œ
                    visited[nx][ny] = True  # ë°©ë¬¸ ì²˜ë¦¬
        return

    max_cnt = 0  # ë¬¼ì— ì ê¸°ì§€ ì•ŠëŠ” ì•ˆì „í•œ ì˜ì—­ì˜ ìµœëŒ€ ê°œìˆ˜
    # ë†’ì´ 0 ì´ìƒ 100 ì´í•˜ ë°˜ë³µ
    for h in range(101):
        visited = [[False] * N for _ in range(N)]  # ë°©ë¬¸ ì—¬ë¶€
        cnt = 0  # ì•ˆì „ ì˜ì—­ ê°œìˆ˜
        # ëª¨ë“  ì¢Œí‘œë¥¼ ì‹œì‘ ìœ„ì¹˜ë¡œ ë°˜ë³µ
        for sx in range(N):
            for sy in range(N):
                # í•´ë‹¹ ì‹œì‘ ìœ„ì¹˜ ë†’ì´ê°€ h ë³´ë‹¤ í¼, ë°©ë¬¸í•˜ì§€ ì•ŠìŒ
                if arr[sx][sy] > h and not visited[sx][sy]:
                    dfs(sx, sy)  # DFS
                    cnt += 1  # ì•ˆì „ ì˜ì—­ ì¦ê°€
        max_cnt = max(max_cnt, cnt)  # ë¬¼ì— ì ê¸´ ë†’ì´ê°€ hì¼ ë•Œ í˜„ì¬ê¹Œì§€ ìµœëŒ€ ì•ˆì „ ì˜ì—­ ê°œìˆ˜
    print(max_cnt)  # ì •ë‹µ ì¶œë ¥


# ì…ë ¥
N = int(sys.stdin.readline())  # 2ì°¨ì› ë°°ì—´ì˜ í–‰ê³¼ ì—´ì˜ ê°œìˆ˜
arr = [list(map(int, sys.stdin.readline().split(' '))) for _ in range(N)]

# í’€ì´
solve()

```

## í•´ì„¤ 1

DFS

`31256KB`, `660ms`

---

## CODE 2

```python
import sys
from collections import deque

#############################
sys.stdin = open('input.txt')
#############################


# í’€ì´
def solve():
    global N, arr

    # BFS
    def bfs(x, y):
        que = deque([(x, y)])  # íì— ì¸í
        visited[x][y] = True  # ë°©ë¬¸ ì²˜ë¦¬
        # íê°€ ë¹Œ ë•Œê¹Œì§€
        while que:
            cx, cy = que.popleft()  # í˜„ì¬ ìœ„ì¹˜ ë””í
            # ë‹¤ìŒ ìœ„ì¹˜ ìƒ, ìš°, í•˜, ì¢Œ
            for nx, ny in ((cx - 1, cy), (cx, cy + 1), (cx + 1, cy), (cx, cy - 1)):
                # ìœ íš¨ ë²”ìœ„, ë†’ì´ê°€ h ë³´ë‹¤ ë†’ìŒ, ë°©ë¬¸í•˜ì§€ ì•ŠìŒ
                if 0 <= nx < N and 0 <= ny < N and arr[nx][ny] > h and not visited[nx][ny]:
                    que.append((nx, ny))  # íì— ì¸í
                    visited[nx][ny] = True  # ë°©ë¬¸ ì²˜ë¦¬
        return

    max_cnt = 0  # ë¬¼ì— ì ê¸°ì§€ ì•ŠëŠ” ì•ˆì „í•œ ì˜ì—­ì˜ ìµœëŒ€ ê°œìˆ˜
    # ë†’ì´ 0 ì´ìƒ 100 ì´í•˜ ë°˜ë³µ
    for h in range(101):
        visited = [[False] * N for _ in range(N)]  # ë°©ë¬¸ ì—¬ë¶€
        cnt = 0  # ì•ˆì „ ì˜ì—­ ê°œìˆ˜
        # ëª¨ë“  ì¢Œí‘œë¥¼ ì‹œì‘ ìœ„ì¹˜ë¡œ ë°˜ë³µ
        for sx in range(N):
            for sy in range(N):
                # í•´ë‹¹ ì‹œì‘ ìœ„ì¹˜ ë†’ì´ê°€ h ë³´ë‹¤ í¼, ë°©ë¬¸í•˜ì§€ ì•ŠìŒ
                if arr[sx][sy] > h and not visited[sx][sy]:
                    bfs(sx, sy)  # BFS
                    cnt += 1  # ì•ˆì „ ì˜ì—­ ì¦ê°€
        max_cnt = max(max_cnt, cnt)  # ë¬¼ì— ì ê¸´ ë†’ì´ê°€ hì¼ ë•Œ í˜„ì¬ê¹Œì§€ ìµœëŒ€ ì•ˆì „ ì˜ì—­ ê°œìˆ˜
    print(max_cnt)  # ì •ë‹µ ì¶œë ¥


# ì…ë ¥
N = int(sys.stdin.readline())  # 2ì°¨ì› ë°°ì—´ì˜ í–‰ê³¼ ì—´ì˜ ê°œìˆ˜
arr = [list(map(int, sys.stdin.readline().split(' '))) for _ in range(N)]

# í’€ì´
solve()

```

## í•´ì„¤ 2

BFS

`34160KB`, `660ms`

---

## CODE 3

```python
import sys
from collections import deque

input = sys.stdin.readline

N = int(input())
g = [list(map(int, input().split())) for _ in range(N)]


# í’€ì´
def solve():
    global N, g

    def bfs(sx, sy):
        que = deque([(sx, sy)])
        v[sx][sy] = True
        dx = (-1, 0, 1, 0)
        dy = (0, 1, 0, -1)
        while que:
            cx, cy = que.popleft()
            for i in range(4):
                nx = cx + dx[i]
                ny = cy + dy[i]
                if 0 <= nx < N and 0 <= ny < N and g[nx][ny] > h and not v[nx][ny]:
                    que.append((nx, ny))
                    v[nx][ny] = True
        return

    cnts = []
    for h in range(101):
        v = [[False] * N for _ in range(N)]
        cnt = 0
        for x in range(N):
            for y in range(N):
                if g[x][y] > h and not v[x][y]:
                    bfs(x, y)
                    cnt += 1
        cnts.append(cnt)
    ans = max(cnts)
    print(ans)
    return


solve()

```

## í•´ì„¤ 3

`34192KB`, `740ms`

---

## CODE 4

```python
import sys

input = sys.stdin.readline

N = int(input())
g = [list(map(int, input().split())) for _ in range(N)]


def submerge(sx, sy, h):
    global N, g, v, max_cnt
    stk = [(sx, sy)]
    v[sx][sy] = True
    dx, dy = (-1, 0, 1, 0), (0, 1, 0, -1)
    while stk:
        cx, cy = stk.pop()
        for i in range(4):
            nx, ny = cx + dx[i], cy + dy[i]
            if 0 <= nx < N and 0 <= ny < N and g[nx][ny] > h and not v[nx][ny]:
                stk.append((nx, ny))
                v[nx][ny] = True
    return


max_cnt = 0
for h in range(101):
    v = [[False] * N for _ in range(N)]
    cnt = 0
    for x in range(N):
        for y in range(N):
            if g[x][y] > h and not v[x][y]:
                submerge(x, y, h)
                cnt += 1
    max_cnt = max(max_cnt, cnt)

print(max_cnt)

```

## í•´ì„¤ 4

`31256KB`, `804ms`

---

## CODE 5

```python
import sys

input = sys.stdin.readline


def dfs(n, graph, sx, sy, v, h):
    dx, dy = (-1, 1, 0, 0), (0, 0, -1, 1)
    stk = [(sx, sy)]
    v[sx][sy] = True
    while stk:
        cx, cy = stk.pop()
        for i in range(4):
            nx, ny = cx + dx[i], cy + dy[i]
            if 0 <= nx < n and 0 <= ny < n and graph[nx][ny] > h and not v[nx][ny]:
                stk.append((nx, ny))
                v[nx][ny] = True
    return


def get_max_count(n, graph):
    max_cnt = 0
    for h in range(101):
        v = [[False] * n for _ in range(n)]
        cnt = 0
        for x in range(n):
            for y in range(n):
                if graph[x][y] > h and not v[x][y]:
                    cnt += 1
                    dfs(n, graph, x, y, v, h)
        max_cnt = max(max_cnt, cnt)
    return max_cnt


n = int(input())
graph = [list(map(int, input().split())) for _ in range(n)]
ans = get_max_count(n, graph)
print(ans)

```

## í•´ì„¤ 5

`31256KB`, `688ms`
