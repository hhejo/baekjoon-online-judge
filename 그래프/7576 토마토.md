# [7576 í† ë§ˆí† ](https://www.acmicpc.net/problem/7576)

### ğŸ¥‡ 5

### ë¶„ë¥˜

- ê·¸ë˜í”„ ì´ë¡ 
- ê·¸ë˜í”„ íƒìƒ‰
- ë„ˆë¹„ ìš°ì„  íƒìƒ‰

### í’€ì´ ë‚ ì§œ

- 230320 ì›”

---

## CODE 1

```python
import sys
from collections import deque

input = sys.stdin.readline

# ì…ë ¥
M, N = map(int, input().split())  # ìƒìì˜ ê°€ë¡œ, ì„¸ë¡œ ì¹¸ ìˆ˜
MAP = [list(map(int, input().split())) for _ in range(N)]  # ìƒìì— ë‹´ê¸´ í† ë§ˆí†  ì •ë³´


# í’€ì´
def solve():
    global N, M, MAP
    dx, dy = (-1, 0, 1, 0), (0, 1, 0, -1)  # ìƒ, ìš°, í•˜, ì¢Œ

    # BFS
    def bfs(starts):
        que = deque(starts)  # íì— í† ë§ˆí†  ì´ˆê¸° ìœ„ì¹˜ë“¤ ì¸í [(0, 0,), (1, 2), ...]
        cnt = 0  # í† ë§ˆí† ê°€ ìµëŠ” ë°ì— ê±¸ë¦¬ëŠ” ìµœì†Œ ë‚ ì§œ
        # ì´ˆê¸° ìœ„ì¹˜ë“¤ ë°©ë¬¸ ì²˜ë¦¬
        for sx, sy in starts:
            visited[sx][sy] = 1
        # í ë°˜ë³µ
        while que:
            cx, cy = que.popleft()  # í˜„ì¬ ìœ„ì¹˜ ë””í
            # ìƒ, ìš°, í•˜, ì¢Œ
            for i in range(4):
                nx, ny = cx + dx[i], cy + dy[i]  # ì´ë™í•  ë‹¤ìŒ ìœ„ì¹˜
                # ë²”ìœ„ ë‚´, í† ë§ˆí† ì´ê³ (ìµì§€ ì•ŠìŒ), ë°©ë¬¸í•˜ì§€ ì•ŠìŒ
                if 0 <= nx < N and 0 <= ny < M and MAP[nx][ny] == 0 and visited[nx][ny] == 0:
                    que.append((nx, ny))  # ë‹¤ìŒ ìœ„ì¹˜ ì¸í
                    visited[nx][ny] = visited[cx][cy] + 1  # í˜„ì¬ ë‚ ì§œ + 1 ì¼ì— ìµìŒ
                    cnt = max(cnt, visited[nx][ny]) - 1  # í˜„ì¬ê¹Œì§€ ê±¸ë¦° ìµœì†Œ ë‚ ì§œ
                    MAP[nx][ny] = 4  # í† ë§ˆí†  ìµìŒ ì²˜ë¦¬
        return cnt  # ìµœì†Œ ë‚ ì§œ ë¦¬í„´

    visited = [[0] * M for _ in range(N)]  # í•´ë‹¹ ìœ„ì¹˜ ë°©ë¬¸ ì—¬ë¶€, í•´ë‹¹ í† ë§ˆí† ê°€ ìµëŠ” ë°ì— ê±¸ë¦¬ëŠ” ë‚ ì§œ
    starts = []  # ë§¨ ì²˜ìŒ ìµì€ í† ë§ˆí† ì˜ ìœ„ì¹˜ë“¤ì˜ ë°°ì—´
    # ìƒìì—ì„œ ìµì€ í† ë§ˆí†  ì „ë¶€ íƒìƒ‰
    for x in range(N):
        for y in range(M):
            # xì—´ yí–‰ì— í† ë§ˆí† ê°€ ìˆìœ¼ë©´
            if MAP[x][y] == 1:
                starts.append((x, y))  # ë°°ì—´ì— í•´ë‹¹ ìœ„ì¹˜ ì¶”ê°€

    ans = bfs(starts)  # ì •ë‹µì€ ê° ìœ„ì¹˜ë“¤ì„ BFSí•œ ê²ƒ
    # ì§€ë„ì˜ í–‰
    for row in MAP:
        # 0ì´ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ í† ë§ˆí† ê°€ ì•ˆ ìµì€ ê²ƒ
        if row.count(0) > 0:
            ans = -1  # ë§¨ ì²˜ìŒë¶€í„° ìµëŠ” ë‚ ì§œ 1ì¼ë¡œ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ 1ì„ ë‹¤ì‹œ ë¹¼ì¤Œ
            break
    print(ans)  # ì •ë‹µ ì¶œë ¥
    return


# í’€ì´
solve()

```

## í•´ì„¤ 1

ì²˜ìŒ ìµì€ í† ë§ˆí† ê°€ ìˆëŠ” ìœ„ì¹˜ë“¤ì„ ì „ë¶€ ì°¾ëŠ”ë‹¤.

ê·¸ ìœ„ì¹˜ë“¤ì„ íì— ë„£ê³  BFSë¥¼ ì‹¤í–‰í•œë‹¤.

ë°©ë¬¸ ì—¬ë¶€ ë°°ì—´ì˜ ì›ì†Œ ê°’ì€ í•´ë‹¹ ìœ„ì¹˜ì˜ í† ë§ˆí† ê°€ ìµì„ ë•Œê¹Œì§€ ê±¸ë¦° ìµœì†Œ ë‚ ì§œ + 1 ì´ë‹¤.

í† ë§ˆí†  ìœ„ì¹˜ ë°°ì—´ì—ë„ ì•ˆ ìµì€ í† ë§ˆí† ì˜ ê°’ `0`ì„ `-1`, `0`ì´ ì•„ë‹Œ ì„ì˜ì˜ ê°’ `4`ë¡œ ë®ì–´ ì”Œì›Œì¤€ë‹¤.

ì´í›„ ì •ë‹µì„ ì¶œë ¥í•˜ê¸° ì „ì—, í† ë§ˆí†  ìƒìì— ì•ˆ ìµì€ í† ë§ˆí†  `0`ì´ ì¡´ì¬í•œë‹¤ë©´ `-1`ì„ ì¶œë ¥í•œë‹¤.

`153468KB`, `1528ms`

---

## CODE 2

```python
import sys
from collections import deque

input = sys.stdin.readline

M, N = map(int, input().split())
g = [list(map(int, input().split())) for _ in range(N)]


# í’€ì´
def solve():
    global N, M, g

    def bfs(starts):
        que = deque(starts)
        v = [[-1] * M for _ in range(N)]
        for sx, sy in starts:
            v[sx][sy] = 0
        dx = (-1, 0, 1, 0)
        dy = (0, 1, 0, -1)
        while que:
            cx, cy = que.popleft()
            for i in range(4):
                nx = cx + dx[i]
                ny = cy + dy[i]
                if 0 <= nx < N and 0 <= ny < M and g[nx][ny] == 0 and v[nx][ny] == -1:
                    que.append((nx, ny))
                    v[nx][ny] = v[cx][cy] + 1
                    g[nx][ny] = 1
        return v

    starts = []
    for x in range(N):
        for y in range(M):
            if g[x][y] == 1:
                starts.append((x, y))

    days = bfs(starts)
    ans = 0
    for i in range(N):
        if 0 in g[i]:
            ans = -1
            break
        ans = max(ans, max(days[i]))
    print(ans)
    return


solve()

```

## í•´ì„¤ 2

`154536KB`, `1236ms`
